<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="tabs.css"> -->
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <style>
        #roomRoot {
            min-width: 1000px;
            position: relative;
        }

        .cell {
            text-align: center;
        }

        .revise-btn {
            margin-bottom: 15px;
            transition: .5s;
        }

        #revise-state,
        #revise-number {
            background-color: white;
            width: 600px;
            box-shadow: 0 0 10px #ccc;
            padding: 15px 80px;
            border-radius: 10px;
            box-sizing: border-box;
            z-index: 50;
            overflow-y: scroll;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            margin: auto;
        }

        #revise-state-name,
        #revise-number-name {
            height: 200px;
            border: 1px solid #eeeeee;
            padding: 8px;
            margin-bottom: 15px;
            box-sizing: border-box;
            overflow-y: scroll;
        }

        .el-icon-close {
            position: absolute;
            top: 5px;
            right: 25px;
            padding: 10px;
            cursor: pointer;
        }

        .revise-state-title {
            text-align: center;
        }

        .revise-bot-btn {
            margin-top: 35px;
            display: flex;
            justify-content: center;
        }

        #footer-page-box {
            margin-top: 40px;
            text-align: center;
        }

        .is-left {
            text-align: center !important;
        }

        .addHouseType {
            position: absolute;
            margin: auto;
            bottom: 0;
            top: 0;
            left: 0;
            right: 0;
            width: 800px;
            background-color: white;
            border: 1px solid #ececec;
            box-shadow: 0 0 15px #e4e4e4;
            z-index: 100;
            border-radius: 8px;
            padding: 20px;
            overflow-y: scroll;
        }

        .addHouseTypeInp {
            margin: 5px 0;
        }

        .smallInput {
            width: 300px;
        }

        .seleLabel {
            display: inline-block;
            width: 100px;
            padding-right: 8px;
            box-sizing: border-box;
            text-align: center;
        }

        .smallerInput {
            display: inline-block;
            width: 150px;
        }

        .addBoxFooter {
            margin: 18px;
            text-align: center;
        }

        .add-uploadimgbtn:nth-of-type(1) {
            margin: 0 !important;
        }

        .add-uploadimgbtn {
            width: 148px;
            text-align: center;
            position: relative !important;
            top: -40px !important;
            margin: 0 !important;
            margin-left: 8px !important;
        }

        .upLoadBigBox {
            width: 780px;
            overflow-x: scroll;
            overflow-y: hidden;
            border: 1px solid #dddddd;
        }

        .upLoadSmallBox {
            width: 2000px;
            height: 170px;
        }

        .footer-check-box {
            width: 200px;
        }

        .el-icon-close {
            position: absolute;
            top: 5px;
            right: 25px;
            padding: 10px;
            cursor: pointer;
            font-size: 30px;
        }

        .housePricePLRevise {
            display: inline-block !important;
        }
        .reviseOneNoborder input {
            border: 0 !important;
        }

        #revisePriceFrameid {
            position: absolute;
            margin: auto;
            bottom: 0;
            top: 0;
            left: 0;
            right: 0;
            width: 800px;
            background-color: white;
            border: 1px solid #ececec;
            box-shadow: 0 0 15px #e4e4e4;
            z-index: 100;
            border-radius: 8px;
            padding: 20px;
            overflow-y: scroll;
        }

        .stateSmall {
            position: absolute;
            margin: auto;
            bottom: 0;
            top: 0;
            left: 0;
            right: 0;
            width: 500px;
            background-color: white;
            border: 1px solid #ececec;
            box-shadow: 0 0 15px #e4e4e4;
            z-index: 100;
            border-radius: 8px;
            padding: 20px;
            overflow: hidden;
        }
        .el-button--primary{
            padding: 7px 5px !important;
        }
        .el-table{
            padding-bottom : 90vh; 
        }
    </style>

    <title>房态房价房型维护</title>
</head>

<body>
    <div id="roomRoot">

        <el-tabs tab-position="left" style="height: 90vh;" :width="500" @tab-click="homeStayTabs">
            <el-tab-pane v-for="item,i in homeStayData" :label="item.name">
                <el-tabs type="card" @tab-click="houseTabsClick" v-model="activeName">
                    <el-tab-pane label="房态维护" name="frist">
                        <div>
                            <el-button class="el-revise-btn revise-btn" type="primary" size="small"
                                @click="reviseStateFrameClick">批量修改房态
                            </el-button>
                            <el-button class="el-revise-btn revise-btn" type="primary" size="small"
                                @click="reviseNumFrameClick">批量修改房量
                            </el-button>
                        </div>
                        <div>
                            <el-button v-show="stateAfterDateFlag" type="primary" icon="el-icon-arrow-left"
                                @click="deforeStateWeek">前七天</el-button>
                            <el-button type="primary">{{startHouseStatedate}}/{{endHouseStatedate}}</el-button>
                            <el-button v-show="stateNextDateFlag" type="primary" icon="el-icon-arrow-right"
                                @click="afterStateWeek">后七天</el-button>
                        </div>
                        <div style="margin-top: 20px;">
                            <el-table :data="houseStateTabData" border width="100%" @cell-click='stateTabClick'>
                                <el-table-column prop="house_name" label="房型">
                                </el-table-column>

                                <el-table-column :prop="houseStateTabWeek[0]" :label="houseStateTabWeek[0]">
                                    <template scope="scope">
                                        <el-button v-show="scope.row[houseStateTabWeek[0]][2]==2" type="primary"
                                            @click="stateNumbtn">
                                            售{{scope.row[houseStateTabWeek[0]][1]}}/总{{scope.row[houseStateTabWeek[0]][0]}}
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[0]][2]==2" type="primary"
                                            @click="stateOpenBtn">可售
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[0]][2]==1" type="info"
                                            @click="stateCloseBtn">已关闭
                                        </el-button>
                                    </template>
                                </el-table-column>

                                <el-table-column :prop="houseStateTabWeek[1]" :label="houseStateTabWeek[1]">
                                    <template scope="scope">
                                        <el-button v-show="scope.row[houseStateTabWeek[1]][2]==2" type="primary"
                                            @click="stateNumbtn">
                                            售{{scope.row[houseStateTabWeek[1]][1]}}/总{{scope.row[houseStateTabWeek[1]][0]}}
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[1]][2]==2" type="primary"
                                            @click="stateOpenBtn" @click="stateOpenBtn">可售
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[1]][2]==1" type="info"
                                            @click="stateCloseBtn">已关闭
                                        </el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="houseStateTabWeek[2]" :label="houseStateTabWeek[2]">
                                    <template scope="scope">
                                        <el-button v-show="scope.row[houseStateTabWeek[2]][2]==2" type="primary"
                                            @click="stateNumbtn">
                                            售{{scope.row[houseStateTabWeek[2]][1]}}/总{{scope.row[houseStateTabWeek[2]][0]}}
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[2]][2]==2" type="primary"
                                            @click="stateOpenBtn">可售
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[2]][2]==1" type="info"
                                            @click="stateCloseBtn">已关闭
                                        </el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="houseStateTabWeek[3]" :label="houseStateTabWeek[3]">
                                    <template scope="scope">
                                        <el-button v-show="scope.row[houseStateTabWeek[3]][2]==2" type="primary"
                                            @click="stateNumbtn">
                                            售{{scope.row[houseStateTabWeek[3]][1]}}/总{{scope.row[houseStateTabWeek[3]][0]}}
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[3]][2]==2" type="primary"
                                            @click="stateOpenBtn">可售
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[3]][2]==1" type="info"
                                            @click="stateCloseBtn">已关闭
                                        </el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="houseStateTabWeek[4]" :label="houseStateTabWeek[4]">
                                    <template scope="scope">
                                        <el-button v-show="scope.row[houseStateTabWeek[4]][2]==2" type="primary"
                                            @click="stateNumbtn">
                                            售{{scope.row[houseStateTabWeek[4]][1]}}/总{{scope.row[houseStateTabWeek[4]][0]}}
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[4]][2]==2" type="primary"
                                            @click="stateOpenBtn">可售
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[4]][2]==1" type="info"
                                            @click="stateCloseBtn">已关闭
                                        </el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="houseStateTabWeek[5]" :label="houseStateTabWeek[5]">
                                    <template scope="scope">
                                        <el-button v-show="scope.row[houseStateTabWeek[5]][2]==2" type="primary"
                                            @click="stateNumbtn">
                                            售{{scope.row[houseStateTabWeek[5]][1]}}/总{{scope.row[houseStateTabWeek[5]][0]}}
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[5]][2]==2" type="primary"
                                            @click="stateOpenBtn">可售
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[5]][2]==1" type="info"
                                            @click="stateCloseBtn">已关闭
                                        </el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="houseStateTabWeek[6]" :label="houseStateTabWeek[6]">
                                    <template scope="scope">
                                        <el-button v-show="scope.row[houseStateTabWeek[6]][2]==2" type="primary"
                                            @click="stateNumbtn">
                                            售{{scope.row[houseStateTabWeek[6]][1]}}/总{{scope.row[houseStateTabWeek[6]][0]}}
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[6]][2]==2" type="primary"
                                            @click="stateOpenBtn">可售
                                        </el-button>
                                        <el-button v-show="scope.row[houseStateTabWeek[6]][2]==1" type="info"
                                            @click="stateCloseBtn">已关闭
                                        </el-button>
                                    </template>
                                </el-table-column>

                            </el-table>
                        </div>

                    </el-tab-pane>
                    <el-tab-pane label="房价维护">
                        <div>
                            <el-button v-show="priceAfterDateFlag" type="primary" icon="el-icon-arrow-left"
                                @click="deforePriceWeek">前七天</el-button>
                            <el-button type="primary">{{startHousePricedate}}/{{endHousePricedate}}</el-button>
                            <el-button v-show="priceNextDateFlag" type="primary" icon="el-icon-arrow-right"
                                @click="afterPriceWeek">后七天</el-button>
                        </div>
                        <div style="margin-top: 20px;">
                            <el-table :data="housePriceTabData" border width="100%" @cell-click='priceTabClick' @cell-mouse-leave='priceTabLeave'>
                                <el-table-column prop="house_name" label="房型/产品">
                                </el-table-column>

                                <el-table-column label="批量修改">
                                    <el-button class="housePricePLRevise" type="primary" size="mini" @click="revisePriceFrameBtn">批量改价
                                    </el-button>
                                </el-table-column>

                                <el-table-column :prop="housePriceTabWeek[0]" :label="housePriceTabWeek[0]">
                                    <template scope="scope">
                                        <el-input class="reviseOneNoborder" style="width: 90px !important;"
                                            v-model="scope.row[housePriceTabWeek[0]]"></el-input>
                                            <el-button>确认</el-button>
                                    </template>
                                </el-table-column>

                                <el-table-column :prop="housePriceTabWeek[1]" :label="housePriceTabWeek[1]">
                                    <template scope="scope">
                                        <el-input class="reviseOneNoborder" style="width: 90px !important;"
                                            v-model="scope.row[housePriceTabWeek[1]]"></el-input>
                                            <el-button>确认</el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="housePriceTabWeek[2]" :label="housePriceTabWeek[2]">
                                    <template scope="scope">
                                        <el-input class="reviseOneNoborder" style="width: 90px !important;"
                                            v-model="scope.row[housePriceTabWeek[2]]"></el-input>
                                            <el-button>确认</el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="housePriceTabWeek[3]" :label="housePriceTabWeek[3]">
                                    <template scope="scope">
                                        <el-input class="reviseOneNoborder" style="width: 90px !important;"
                                            v-model="scope.row[housePriceTabWeek[3]]"></el-input>
                                            <el-button>确认</el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="housePriceTabWeek[4]" :label="housePriceTabWeek[4]">
                                    <template scope="scope">
                                        <el-input class="reviseOneNoborder" style="width: 90px !important;"
                                            v-model="scope.row[housePriceTabWeek[4]]"></el-input>
                                            <el-button>确认</el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="housePriceTabWeek[5]" :label="housePriceTabWeek[5]">
                                    <template scope="scope">
                                        <el-input class="reviseOneNoborder" style="width: 90px !important;"
                                            v-model="scope.row[housePriceTabWeek[5]]"></el-input>
                                            <el-button>确认</el-button>
                                    </template>
                                </el-table-column>
                                <el-table-column :prop="housePriceTabWeek[6]" :label="housePriceTabWeek[6]">
                                    <template scope="scope">
                                        <el-input class="reviseOneNoborder" style="width: 90px !important;"
                                            v-model="scope.row[housePriceTabWeek[6]]"></el-input>
                                            <el-button>确认</el-button>
                                    </template>
                                </el-table-column>

                            </el-table>
                        </div>
                    </el-tab-pane>

                    <el-tab-pane label="房型维护">
                        <el-row>
                            <el-button class="el-revise-btn revise-btn" type="primary" size="small"
                                @click="addHouseBtn">创建房型</el-button>
                        </el-row>
                        <el-form :inline="true" class="demo-form-inline">
                            <el-form-item label="房间名称">
                                <el-input v-model="houseName" placeholder="房间名称"></el-input>
                            </el-form-item>
                            <el-form-item>
                                <el-button type="primary" @click="houseSreachBtn" class="el-revise-btn revise-btn"
                                    size="small">查询
                                </el-button>
                            </el-form-item>
                        </el-form>
                        <el-table :data="houseData" border style="width: 100%" @cell-click="houseTableCell">
                            <el-table-column prop='id' label="房型ID">
                            </el-table-column>
                            <el-table-column prop='name' label="房型名称">
                            </el-table-column>
                            <el-table-column prop='size' label="面积">
                            </el-table-column>
                            <el-table-column prop='bed_info' label="床量">
                            </el-table-column>
                            <el-table-column prop='window' label="窗户">
                            </el-table-column>
                            <el-table-column prop='number' label="可入住人数">
                            </el-table-column>
                            <el-table-column prop='sort' label="排序">
                            </el-table-column>
                            <el-table-column label="操作">
                                <el-button type="primary" icon="el-icon-edit" circle size="mini"
                                    @click="setReviseHouseTypeBtn"></el-button>
                                <el-button type="danger" icon="el-icon-delete" circle size="mini"
                                    @click="setDeleHouseTypeBtn"></el-button>
                            </el-table-column>
                        </el-table>
                        <div id="footer-page-box">
                            <el-pagination @size-change="currentSizeChange" @current-change="currentPageChange"
                                :current-page="currentPage" :page-sizes="[5, 10, 20, 50]" :page-size="100"
                                layout="total, sizes, prev, pager, next, jumper" :total="allTotal">
                            </el-pagination>
                        </div>

                    </el-tab-pane>
                </el-tabs>
            </el-tab-pane>
        </el-tabs>

        <div class="addHouseType" v-if="addBoxShow">
            <i class="el-icon-close" @click="closeAddBoxClick"></i>
            <h2>基础信息</h2>
            <label for="">房型名称</label>
            <el-input class="addHouseTypeInp" placeholder="请输入内容" v-model="addHouseTypeName">
                <!-- <template slot="prepend">房型名称</template> -->
            </el-input>
            <label for="">面积</label>
            <el-input class="addHouseTypeInp" placeholder="请输入内容" v-model="addHouseTypeSize">
                <!-- <template slot="prepend">面积</template> -->
                <template slot="append">平方米</template>
            </el-input>
            <div class="seleLabel">
                <label for="">几室</label>
            </div>
            <el-select class="addHouseTypeInp" v-model="addHouseSeveral_rooms" placeholder="几室">
                <el-option v-for="item in several_roomsOptions" :key="item.value" :label="item.label"
                    :value="item.value">
                </el-option>
            </el-select>
            <div></div>
            <div v-for="addHouseBed_infoItem, i in addHouseBed_info">
                <div class="seleLabel">
                    <label for="">床型{{i+1}}</label>
                </div>
                <el-select class="addHouseTypeInp" v-model="addHouseBed_infoItem.name" placeholder="床型">
                    <el-option v-for="item in bed_infoNameOptions" :key="item.value" :label="item.label"
                        :value="item.value">
                    </el-option>
                </el-select>
                <div class="seleLabel">
                    <label for="">床宽</label>
                </div>
                <el-select class="addHouseTypeInp" v-model="addHouseBed_infoItem.size" placeholder="床宽">
                    <el-option v-for="item in bed_infoSizeOptions" :key="item.value" :label="item.label"
                        :value="item.value">
                    </el-option>
                </el-select>
            </div>
            <div>
                <el-button type="primary" plain :width="500" @click="addBed"> + 床型</el-button>
            </div>
            <div>
                <div class="seleLabel">
                    <label for="">可入住人数</label>
                </div>
                <el-select class="addHouseTypeInp" v-model="addHouseNumber" placeholder="请选择">
                    <el-option v-for="item in numberOptions" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>
            </div>
            <div>
                <div class="seleLabel">
                    <label for="">窗户</label>
                </div>
                <el-select class="addHouseTypeInp" v-model="addHouseWindow" placeholder="请选择">
                    <el-option v-for="item in windowOptions" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>
            </div>
            <div>
                <div class="seleLabel">
                    <label for="">早餐</label>
                </div>
                <el-select class="addHouseTypeInp" v-model="addHousebreakfast" placeholder="请选择">
                    <el-option v-for="item in breakfastOptions" :key="item.value" :label="item.label"
                        :value="item.value">
                    </el-option>
                </el-select>
            </div>
            <div>
                <div class="seleLabel">
                    <label for="">卫生间</label>
                </div>
                <el-select class="addHouseTypeInp" v-model="addHouseWc" placeholder="请选择">
                    <el-option v-for="item in wcOptions" :key="item.value" :label="item.label" :value="item.value">
                    </el-option>
                </el-select>
            </div>
            <div class="smallInput">
                <label for="">房量</label>
                <el-input class="addHouseTypeInp" placeholder="请输入内容" v-model="addHouseVolume">
                    <!-- <template slot="prepend">面积</template> -->
                    <template slot="append">间</template>
                </el-input>
            </div>


            <h2>客房设置</h2>
            <div v-for="checkItem in addHouseCheckList">
                <h4>{{checkItem.title}}</h4>
                <div class="check-box">
                    <el-checkbox-group v-model="addHouseInfoList">
                        <el-checkbox v-for="check in checkItem.content" :label="check.name"></el-checkbox>
                    </el-checkbox-group>
                </div>
            </div>

            <h2>房屋详情</h2>
            <h4>房屋详情</h4>
            <div>
                <el-input type="textarea" :rows="5" placeholder="请输入内容" v-model="addHouseTestera" maxlength="50">
                </el-input>
            </div>
            <div>
                <span>加床服务</span>
                <el-radio-group v-model="addHouseExtra_bed">
                    <el-radio :label="1">不可加床</el-radio>
                    <el-radio :label="2">无偿加床</el-radio>
                    <el-radio :label="3">有偿加床</el-radio>
                </el-radio-group>
                <div class="smallerInput">
                    <el-input class="addHouseTypeInp" placeholder="请输入内容" v-model="addHouseExtra_bed_money">
                        <!-- <template slot="prepend">面积</template> -->
                        <template slot="append">元/人</template>
                    </el-input>
                </div>
            </div>
            <h4>图片</h4>
            <!-- 新建 -->
            <div v-if="currentAddbox" class="upLoadBigBox">
                <div class="upLoadSmallBox">
                    <el-upload action="https://api.sdzhujialin.com/admin/Index/IndexData" list-type="picture-card"
                        :on-change="onUpload" :limit="10" accept="image/*">
                        <i class="el-icon-plus"></i>
                    </el-upload>
                    <el-button type="primary" plain v-for="imgItem, i in addHouseList" class="add-uploadimgbtn"
                        @click="uploadIsMain(i)" size="mini">
                        {{homeImgNum == i?'主页':'设为主页'}}</el-button>
                </div>
            </div>
            <!-- 详情 -->
            <div v-if="!currentAddbox" class="upLoadBigBox">
                <div class="upLoadSmallBox">
                    <el-upload action="https://api.sdzhujialin.com/admin/Index/IndexData" list-type="picture-card"
                        :on-change="onReviseUpload" :on-remove="onDeleRevise" :limit="10" accept="image/*"
                        :file-list="mounteImgArr">
                        <i class="el-icon-plus"></i>
                    </el-upload>
                    <el-button type="primary" plain v-for="imgItem, i in addHouseList" class="add-uploadimgbtn"
                        @click="uploadReviseIsMain(i)" size="mini">
                        {{homeImgNum == i?'主页':'设为主页'}}</el-button>
                </div>
            </div>

            <h4>能否做饭</h4>
            <el-radio-group v-model="addHouseIs_cook">
                <el-radio :label="1">能</el-radio>
                <el-radio :label="2">不能</el-radio>
            </el-radio-group>

            <h2>入住须知</h2>
            <h4>入住时间</h4>
            <el-radio-group v-model="addHouseGo_time">
                <el-radio label="12:00">入住日当天12：00以后</el-radio>
                <el-radio :label="2">入住日当天</el-radio>
                <div class="smallerInput">
                    <el-time-select v-model="addHouseGo_timeText" :picker-options="{
                                        start: '00:00',
                                        step: '01:00',
                                        end: '23:59',
                                    }">
                    </el-time-select>以后
                </div>
            </el-radio-group>
            <h4>退房时间</h4>
            <el-radio-group v-model="addHouseOut_time">
                <el-radio label="12:00">离店日当天12：00以后</el-radio>
                <el-radio :label="2">离店日当天</el-radio>
                <div class="smallerInput">
                    <el-time-select v-model="addHouseOut_timeText" :picker-options="{
                                        start: '00:00',
                                        step: '01:00',
                                        end: '23:59',
                                    }">
                    </el-time-select>以后
                </div>
            </el-radio-group>
            <h4>接待时间</h4>
            <el-time-select placeholder="起始时间" v-model="addHouseStartTime" :picker-options="{
                    start: '00:00',
                    step: '01:00',
                    end: '23:59',
                }">
            </el-time-select>
            <el-time-select placeholder="结束时间" v-model="addHouseEndTime" :picker-options="{
                  start: '00:00',
                  step: '01:00',
                  end: '23:59',
                  minTime: addHouseStartTime
                }">
            </el-time-select>
            <h4>发票</h4>
            <el-radio-group v-model="addHouseInvoice">
                <el-radio :label="1">可开发票</el-radio>
                <el-radio :label="2">不可开发票</el-radio>
            </el-radio-group>
            <h4>押金</h4>
            <el-radio-group v-model="addHouseDeposit">
                <el-radio :label="0">无需押金</el-radio>
                <el-radio :label="2">需</el-radio>
                <div class="smallerInput">
                    <el-input class="addHouseTypeInp" placeholder="请输入内容" v-model="addHouseDeposit_money">
                        <template slot="append">元</template>
                    </el-input>
                </div>
            </el-radio-group>
            <h4>房屋守则</h4>
            <div class="footer-check-box">
                <el-checkbox-group v-model="addHouseHousing_code">
                    <el-checkbox label="接待儿童"></el-checkbox>
                    <el-checkbox label="接待老人"></el-checkbox>
                    <el-checkbox label="抽烟"></el-checkbox>
                    <el-checkbox label="带宠物"></el-checkbox>
                    <el-checkbox label="商业拍摄"></el-checkbox>
                    <el-checkbox label="聚会"></el-checkbox>
                    <el-checkbox label="额外加人"></el-checkbox>
                    <el-checkbox label="接待外宾"></el-checkbox>
                </el-checkbox-group>
            </div>
            <h4>儿童入住</h4>
            <p>不接受18岁以下未成年人在没有监护人陪同下入住</p>
            <h4>退订政策</h4>
            <p>入住日18：00点之前可以免费取消，超过18:00则需要收取全部房费作为违约金支付给房东</p>
            <!-- 修改 -->
            <div v-if="currentAddbox" class="addBoxFooter">
                <el-button type="info" size="small" @click="closeAddBoxClick">取消</el-button>
                <el-button type="primary" size="small" @click="UploadHouseInfo">提交</el-button>
            </div>
            <!-- 详情 -->
            <div v-if="!currentAddbox" class="addBoxFooter">
                <el-button type="info" size="small" @click="closeAddBoxClick">取消</el-button>
                <el-button type="primary" size="small" @click="ReviseHouseTypeInfoBtn">提交</el-button>
            </div>



        </div>
        <!-- 修改房态弹出框 -->
        <div v-if="reviseStateFrame" id="revise-state">
            <i class="el-icon-close" @click="closeReviseStateClick"></i>
            <h4 class="revise-state-title">批量修改房态</h4>
            <p>房型:</p>
            <div id="revise-state-name">
                <el-checkbox-group v-model="checkedStateHousenameList">
                    <el-checkbox style="display: block;" v-for="item,i in reviseStateCurrNameArr" :label="reviseStateCurrIDArr[i]">{{item}}
                    </el-checkbox>
                </el-checkbox-group>
            </div>
            <div>
                <span>房态设置</span>
                <el-button class="el-revise-btn revise-btn" type="primary" size="small" @click="stateOpenHouseBtn">开房</el-button>
                <el-button class="el-revise-btn revise-btn" type="primary" size="small" @click="stateCloseHouseBtn">关房</el-button>
            </div>
            <div>
                <span>修改日期</span>
                <!-- {{roomStateValue}} -->
                <el-date-picker v-model="roomStateValue" type="daterange" start-placeholder="开始日期"
                    end-placeholder="结束日期" :default-time="['00:00:00', '23:59:59']" size="mini" format="yyyy 年 MM 月 dd 日"
                    value-format="yyyy-MM-dd">
                </el-date-picker>
                <p>可修改60天房态</p>
                <el-checkbox :indeterminate="isIndeterminateState" v-model="checkAllState"
                    @change="reviseHouseStateCheckAllChange">全选</el-checkbox>
                <div style="margin: 15px 0;"></div>
                <el-checkbox-group v-model="checkedCitiesState" @change="reviseHouseStateCheckedCitiesChange">
                    <el-checkbox v-for="city,i in cities" :label="city.label" :key="i">{{city.weekName}}</el-checkbox>
                </el-checkbox-group>
                <el-row class="revise-bot-btn">
                    <el-button type="warning" size="small" @click="roomStateClose">取消</el-button>
                    <el-button type="primary" size="small" @click="roomStateOpen">确认</el-button>
                </el-row>
            </div>
        </div>
        <!-- 修改房量弹出框 -->
        <div v-if="reviseNumFrame" id="revise-number">
            <i class="el-icon-close" @click="closeReviseNumClick"></i>
            <h4 class="revise-state-title">批量修改房量</h4>
            <p>房型</p>
            <div id="revise-number-name">
                <div v-for="item,i in reviseStateCurrNameArr" style="display: flex;padding: 5px 0;line-height: 2vw">
                    <el-checkbox-group v-model="checkedStateHousenameList">
                        <el-checkbox :label="reviseStateCurrIDArr[i]">{{item}}
                        </el-checkbox>
                    </el-checkbox-group>
                    <el-input style="width: 100px;margin-left: 5px;" v-model="checkedNumHousenameInput[i]" placeholder="请输入">
                    </el-input>间
                </div>
            </div>
            <div>
                <span>修改日期</span>
                <el-date-picker v-model="roomNumValue" type="daterange" start-placeholder="开始日期" end-placeholder="结束日期"
                    :default-time="['00:00:00', '23:59:59']" size="mini" format="yyyy 年 MM 月 dd 日" value-format="yyyy-MM-dd">
                </el-date-picker>
                <p>可修改60天房态</p>
                <el-checkbox :indeterminate="isIndeterminateNum" v-model="checkAllNum"
                    @change="reviseHouseNumCheckAllChange">全选</el-checkbox>
                <div style="margin: 15px 0;"></div>
                <el-checkbox-group v-model="checkedCitiesNum" @change="reviseHouseNumCheckedCitiesChange">
                    <el-checkbox v-for="city,i in cities" :label="city.label" :key="i">{{city.weekName}}</el-checkbox>
                </el-checkbox-group>
                <el-row class="revise-bot-btn">
                    <el-button type="warning" size="small" @click="roomNumClose">取消</el-button>
                    <el-button type="primary" size="small" @click="roomNumOpen">确认</el-button>
                </el-row>
            </div>
        </div>

        <div v-show="revisePriceFrame" id="revisePriceFrameid">
            <h3 style="background-color: #dddddd;padding: 5px;font-size: 1vw;">修改房价</h3>
            <p>房型:{{revisePriceCurrName}}</p>
            <label for="">房价</label>
            <el-input style="width: 100px !important;" v-model="revisePriceFrameInp" placeholder="请输入价格"></el-input>元
            <div class="block" style="margin-top: 10px;">
                <span class="demonstration">修改日期</span>
                <el-date-picker v-model="revisePriceFrameDate" type="daterange" range-separator="至"
                    start-placeholder="开始日期" end-placeholder="结束日期" format="yyyy 年 MM 月 dd 日" value-format="yyyy-MM-dd">
                </el-date-picker>
                <div style="margin: 15px 0;"></div>
                <el-checkbox :indeterminate="isIndeterminate" v-model="checkAll" @change="revisePriceCheckAll">全选
                </el-checkbox>
                <div style="margin: 15px 0;"></div>
                <el-checkbox-group v-model="checkedCities" @change="revisePriceCheckedCitiesChange">
                    <el-checkbox v-for="city,i in cities" :label="city.label" :key="i">{{city.weekName}}</el-checkbox>
                </el-checkbox-group>
                <div style="width: 100%;text-align: center;margin-top: 12px;">
                    <el-button type="warning" size="small" @click="closeReviseAllPriceBox">取消</el-button>
                    <el-button type="primary" size="small" @click="ReviseAllPriceBtn">确认</el-button>
                </div>
            </div>
        </div>
        <!-- 修改房量弹出框 -->
        <div v-show="stateNumFlag" class="stateSmall">
            <h3 style="background-color: #dddddd;font-size: 1vw">修改房量</h3>
            <p>房型名称: {{reviseStateCurrName}}</p>
            <label for="">房量</label>
            <el-input style="width: 100px !important;" v-model="ReviseStateNum" placeholder="请输入房量"></el-input>间
            <div style="width: 100%;text-align: center;margin-top: 20px;">
                <el-button type="warning" size="small" @click="closeReviseStateNumBox">取消</el-button>
                <el-button type="primary" size="small" @click="ReviseStateNumBtn">确认</el-button>
            </div>
        </div>
        <!-- 可售转关房 -->
        <div v-show="stateOpenFlag" class="stateSmall">
            <p>房型名称: {{reviseStateCurrName}}</p>
            <p>您是否需要关房操作？</p>
            <div style="width: 100%;text-align: center;margin-top: 20px;">
                <el-button type="warning" size="small" @click="closeReviseStateOpenBox">取消</el-button>
                <el-button type="primary" size="small" @click="ReviseStateOpenBtn">确认</el-button>
            </div>
        </div>
        <!-- 关房转开启 -->
        <div v-show="stateCloseFlag" class="stateSmall">
            <p>房型名称: {{reviseStateCurrName}}</p>
            <el-input style="width: 100px !important;" v-model="ReviseStateCloseNum" placeholder="请输入房量"></el-input>间
            <div style="width: 100%;text-align: center;margin-top: 20px;">
                <el-button type="warning" size="small" @click="closeReviseStateCloseBox">取消</el-button>
                <el-button type="primary" size="small" @click="ReviseStateCloseBtn">确认</el-button>
            </div>
        </div>
    </div>


    <script>
        // 左侧民宿列表
        const queryHomeStayListURL = 'https://api.sdzhujialin.com/admin/Homestay/IndexData'
        // 房型列表
        const houseTypeListURL = 'https://api.sdzhujialin.com/admin/House/IndexData';
        // 房型设施
        const queryHouseCheckListURL = 'https://api.sdzhujialin.com/admin/Homestay/HouseData';
        // 添加房型信息(除图)
        const setAddhouseTypeInfoURL = 'https://api.sdzhujialin.com/admin/House/AddData';
        // 添加房型图片
        const setAddHouseTypeImgURL = 'https://api.sdzhujialin.com/admin/House/upload';
        // 删除房型
        const setDeleHouseTypeUrl = 'https://api.sdzhujialin.com/admin/House/DelData';
        // 房型详情
        const queryHouseTypeAllURL = 'https://api.sdzhujialin.com/admin/House/Details';
        // 详情设为主图
        const setReviseHouseTypeIsMainImgURL = 'https://api.sdzhujialin.com/admin/House/ImgOne';
        // 详情图片上传
        const setReviseHouseTypeImgURL = 'https://api.sdzhujialin.com/admin/House/Imgadd';
        // 详情删除图片
        const setReviseHouseTypeDeleImgURL = 'https://api.sdzhujialin.com/admin/House/ImgDel';
        // 修改房型请求
        const setReviseHouseTypeInfoURL = 'https://api.sdzhujialin.com/admin/House/Updata';
        // ----------------房价-----------------
        // 房价列表
        const queryHousePriceListURL = 'https://api.sdzhujialin.com/admin/Housemoney/IndexData';
        // 单个房价修改
        const setOnePriceURL = 'https://api.sdzhujialin.com/admin/Housemoney/Price';
        // 批量修改房价
        const setAllPriceURL = 'https://api.sdzhujialin.com/admin/Housemoney/BatchPrice';
        // -----------------房态房量-----------------
        // 房态列表
        const queryHouseStateListURL = 'https://api.sdzhujialin.com/admin/Houseroom/IndexData'
        // 修改某天房量
        const setReviseStateNumURL = 'https://api.sdzhujialin.com/admin/Houseroom/Closeouse';
        // 开启转关房
        const setReviseStateOpenURL = 'https://api.sdzhujialin.com/admin/Houseroom/Close';
        // 关房转开启
        const setReviseStateCloseURL = 'https://api.sdzhujialin.com/admin/Houseroom/Opne';
        // 批量修改房态
        const setReviseStateAllUrl = 'https://api.sdzhujialin.com/admin/Houseroom/Batch';
        // 批量修改房量
        const setReviseNumAllUrl = 'https://api.sdzhujialin.com/admin/Houseroom/BatchHouse';

        const cityOptions = [
            {
                label: 1,
                weekName: '周一'
            }, {
                label: 2,
                weekName: '周二'
            }, {
                label: 3,
                weekName: '周三'
            }, {
                label: 4,
                weekName: '周四'
            }, {
                label: 5,
                weekName: '周五'
            }, {
                label: 6,
                weekName: '周六'
            }, {
                label: 0,
                weekName: '周日'
            }];
        const cityOptionsState = [
            {
                label: 1,
                weekName: '周一'
            }, {
                label: 2,
                weekName: '周二'
            }, {
                label: 3,
                weekName: '周三'
            }, {
                label: 4,
                weekName: '周四'
            }, {
                label: 5,
                weekName: '周五'
            }, {
                label: 6,
                weekName: '周六'
            }, {
                label: 0,
                weekName: '周日'
            }];
        const cityOptionsNum = [
            {
                label: 1,
                weekName: '周一'
            }, {
                label: 2,
                weekName: '周二'
            }, {
                label: 3,
                weekName: '周三'
            }, {
                label: 4,
                weekName: '周四'
            }, {
                label: 5,
                weekName: '周五'
            }, {
                label: 6,
                weekName: '周六'
            }, {
                label: 0,
                weekName: '周日'
            }];
        var temp = new Date();
        new Vue({
            el: "#roomRoot",
            data: {
                // 优先显示页
                activeName: 'frist',
                // ----------------- 房型----------------
                // 分页当前页
                currentPage: 1,
                // 分页size
                currentSize: 5,
                // 总条数
                allTotal: 0,
                // 房名
                houseName: '',
                // 民宿列表数据
                homeStayData: [],
                // 首个民宿ID
                activeHomeStayID: '',
                // 当前民宿名
                currentHomeStayID: '',
                // 房型列表数据
                houseData: [],
                // DeleID
                deleHouseID: '',

                // --------------- 新建房型 ---------------
                // addShow
                addBoxShow: false,
                // 当前弹窗状态
                currentAddbox: true,
                // change次数
                uploadNum: 0,
                // 绑定房型名称
                addHouseTypeName: '',
                // 绑定面积
                addHouseTypeSize: '',
                // 几室选项
                several_roomsOptions: [
                    {
                        value: '1',
                        label: '1'
                    }, {
                        value: '2',
                        label: '2'
                    }, {
                        value: '3',
                        label: '3'
                    }, {
                        value: '4',
                        label: '4'
                    }, {
                        value: '5',
                        label: '5'
                    }, {
                        value: '6',
                        label: '6'
                    }, {
                        value: '7',
                        label: '7'
                    }, {
                        value: '8',
                        label: '8'
                    }, {
                        value: '9',
                        label: '9'
                    }, {
                        value: '10',
                        label: '10'
                    }, {
                        value: '11',
                        label: '11'
                    }, {
                        value: '12',
                        label: '12'
                    }, {
                        value: '13',
                        label: '13'
                    }, {
                        value: '14',
                        label: '14'
                    }, {
                        value: '15',
                        label: '15'
                    }, {
                        value: '15+',
                        label: '15+'
                    }
                ],
                // 绑定几室 
                addHouseSeveral_rooms: '',
                // 床型选项
                bed_infoNameOptions: [
                    {
                        value: '单人床',
                        label: '单人床'
                    }, {
                        value: '大床',
                        label: '大床'
                    }, {
                        value: '圆床',
                        label: '圆床'
                    }, {
                        value: '水床',
                        label: '水床'
                    }, {
                        value: '上下铺',
                        label: '上下铺'
                    }, {
                        value: '榻榻米',
                        label: '榻榻米'
                    }, {
                        value: '沙发床',
                        label: '沙发床'
                    }, {
                        value: '炕',
                        label: '炕'
                    }, {
                        value: '胶囊床',
                        label: '胶囊床'
                    }, {
                        value: '儿童床',
                        label: '儿童床'
                    }, {
                        value: '高低床',
                        label: '高低床'
                    }, {
                        value: '帐篷床',
                        label: '帐篷床'
                    }, {
                        value: '其他',
                        label: '其他'
                    }
                ],
                // 床宽选项
                bed_infoSizeOptions: [
                    {
                        value: '1.1米',
                        label: '1.1米'
                    }, {
                        value: '1.2米',
                        label: '1.2米'
                    }, {
                        value: '1.3米',
                        label: '1.3米'
                    }, {
                        value: '1.35米',
                        label: '1.35米'
                    }, {
                        value: '1.5米',
                        label: '1.5米'
                    }, {
                        value: '1.8米',
                        label: '1.8米'
                    }, {
                        value: '2米',
                        label: '2米'
                    }, {
                        value: '其他',
                        label: '其他'
                    }
                ],
                // 绑定床信息
                addHouseBed_info: [
                    {
                        name: '',
                        size: ''
                    }
                ],
                // 可住人数选项(1-15+)
                numberOptions: [
                    {
                        value: '1',
                        label: '1'
                    }, {
                        value: '2',
                        label: '2'
                    }, {
                        value: '3',
                        label: '3'
                    }, {
                        value: '4',
                        label: '4'
                    }, {
                        value: '5',
                        label: '5'
                    }, {
                        value: '6',
                        label: '6'
                    }, {
                        value: '7',
                        label: '7'
                    }, {
                        value: '8',
                        label: '8'
                    }, {
                        value: '9',
                        label: '9'
                    }, {
                        value: '10',
                        label: '10'
                    }, {
                        value: '11',
                        label: '11'
                    }, {
                        value: '12',
                        label: '12'
                    }, {
                        value: '13',
                        label: '13'
                    }, {
                        value: '14',
                        label: '14'
                    }, {
                        value: '15',
                        label: '15'
                    }, {
                        value: '15+',
                        label: '15+'
                    }
                ],
                // 绑定可住人数
                addHouseNumber: '',
                // 窗户选项(有窗1无窗2)
                windowOptions: [
                    {
                        value: '1',
                        label: '有窗'
                    }, {
                        value: '2',
                        label: '无窗'
                    }
                ],
                // 绑定有无窗
                addHouseWindow: '',
                // 早餐选项(不含早餐1含早餐2)
                breakfastOptions: [
                    {
                        value: '1',
                        label: '不含早餐'
                    }, {
                        value: '2',
                        label: '含早餐'
                    }
                ],
                // 绑定早餐
                addHousebreakfast: '',
                // 卫生间选项(12345)
                wcOptions: [
                    {
                        value: '1',
                        label: '1'
                    }, {
                        value: '2',
                        label: '2'
                    }, {
                        value: '3',
                        label: '3'
                    }, {
                        value: '4',
                        label: '4'
                    }, {
                        value: '5',
                        label: '5'
                    }
                ],
                // 绑定卫生间
                addHouseWc: '',
                // 绑定房量
                addHouseVolume: '',

                // 房型设施
                addHouseCheckList: [],
                // 房型设置绑定
                addHouseInfoList: [],
                // 房间设施
                addHouseRoom_facilities: [],
                // 基础设施
                addHouseInfrastructure: [],
                // 通信设施
                addHouseCommunication: [],
                // 浴室设施
                addHouseBathroom: [],
                // 食品
                addHouseFood: [],

                //房屋详情输入
                addHouseTestera: '',
                // 加床服务(123)
                addHouseExtra_bed: '',
                // 有偿加床
                addHouseExtra_bed_money: 0,
                // 图片上传
                addHouseList: [],
                // 图片主页索引
                homeImgNum: 0,
                // 能否做饭(12)
                addHouseIs_cook: '',

                // 入住时间
                addHouseGo_time: '',
                addHouseGo_timeText: '',
                // 离店时间
                addHouseOut_time: '',
                addHouseOut_timeText: '',
                // 接待起始时间
                addHouseStartTime: '',
                // 接待结束时间
                addHouseEndTime: '',
                // 发票
                addHouseInvoice: '',
                // 押金
                addHouseDeposit: '',
                // 押金钱
                addHouseDeposit_money: '',
                // 房屋守则
                addHouseHousing_code: [],

                // ---------------- 房型详情 -----------------
                // 房型详情数据
                resiveHouseInfoData: {},
                // 图片回显
                mounteImgArr: [],

                // --------------房态----------------
                checkedStateHousenameList: [],
                reviseStateCurrNameArr: [],
                reviseStateCurrIDArr: [],
                // 房态批量修改开房按钮
                stateOpenHouse: '',
                // 房态批量修改关房按钮
                stateCloseHouse: '',
                // 房量批量修改inp
                checkedNumHousenameInput: [],
                // 房量有效inp
                currentCheckedNumHousenameInput: [],
                // 小弹框
                stateNumFlag: false,
                stateOpenFlag: false,
                stateCloseFlag: false,
                // 弹框修改房量
                ReviseStateNum: 0,
                // 房态当前房型名
                reviseStateCurrName: '',
                // 房态当前房型ID
                reviseStateCurrID: '',
                // 房态当前日期
                reviseStateCurrDate: '',
                // 房态修改单个房量已售量
                reviseStateOverNum: 0,
                // 房态关闭转开启房量
                ReviseStateCloseNum: 0,
                // 房态日期
                houseStateTabTitle: [],
                startHousestatedate: '',
                endHousestatedate: '',
                stateDateNum: 0,
                stateAfterDateFlag: false,
                stateNextDateFlag: true,
                stateYear: '',
                stateMonth: '',
                stateDate: '',
                stateDay: '',
                // 房态列表
                houseStateTabData: [],
                houseStateTabWeek: [],
                startHouseStatedate: '',
                endHouseStatedate: '',

                checkAll: false,
                reviseNumber: '',
                reviseStateFrame: false,
                reviseNumFrame: false,
                roomStateStartValue: '',

                roomNumValue: '',
                roomStateValue: '',

                checkAllState: false,
                checkedCitiesState: [],
                citiesState: cityOptionsState,
                isIndeterminateState: true,

                checkAllNum: false,
                checkedCitiesNum: [],
                citiesNum: cityOptionsNum,
                isIndeterminateNum: true,

                // ------------------房价------------------
                // 房价表格信息移除
                rowhouse_id: '',
                rowcolumnproperty: '',
                columnproperty: '',
                // 房价前7后7
                housePriceDataType: 1,
                // ReviseOneTempPrice
                currentRevisePrice: 0,
                // 单个修改状态
                reviseOneInput: true,
                // 房价弹窗
                revisePriceFrame: false,
                // 批量修改房价
                revisePriceFrameInp: 0,
                // 弹窗中日期修改
                revisePriceFrameDate: '',
                // 房价弹框房型ID
                revisePriceCurrID: '',
                // 房价弹框星期复选
                checkAll: false,
                checkedCities: [],
                cities: cityOptions,
                isIndeterminate: true,
                // 当前房型名称
                revisePriceCurrName: '',
                // 房价列表
                housePriceTabData: [],
                housePriceTabWeek: [],
                startHousePricedate: '',
                endHousePricedate: '',
                priceDateNum: 0,
                priceAfterDateFlag: false,
                priceNextDateFlag: true,
                priceYear: '',
                priceMonth: '',
                priceDate: '',
                priceDay: '',
            },
            created() {
                this.queryHousePriceList();
                this.queryHouseStateList();
            },
            mounted() {
                // 左侧民宿列表
                this.queryHomeStayList();
                // 首次民宿房型请求
                this.activeHouseTypeList();
                // 房态日期
                // this.houseStateDate();
                // 房价日期
                // this.housePriceDate();
                // 房价列表请求
                // this.queryHousePriceList();
                // 
            },
            methods: {
                // 民宿列表选项卡
                homeStayTabs(tab, event) {
                    // console.log(tab.label);
                    for (let i = 0; i < this.homeStayData.length; i++) {
                        if (tab.label == this.homeStayData[i].name) {
                            this.currentHomeStayID = this.homeStayData[i].id
                        }
                    }
                    this.addBoxShow = false;
                    this.revisePriceFrame = false;
                    this.reviseNumFrame = false;
                    this.priceDateNum = 0;
                    this.stateDateNum = 0;
                    this.HouseTypeList();
                    this.queryHousePriceList();
                    this.queryHouseStateList();
                },
                // 房型选项卡
                houseTabsClick(tab, event) {
                    // console.log(tab.label);
                    this.queryHousePriceList();
                    this.addBoxShow = false;
                    this.revisePriceFrame = false;
                    this.reviseNumFrame = false;
                },
                // 房型列表分页
                currentSizeChange(val) {
                    // console.log(val);
                    this.currentSize = val;
                    this.HouseTypeList();
                },
                currentPageChange(val) {
                    // console.log(val);
                    this.currentPage = val;
                    this.HouseTypeList();
                },

                // 房型查询按钮
                houseSreachBtn() {
                    this.houseTypeNameSreach();
                },
                // 新建房型按钮
                addHouseBtn() {
                    this.addBoxShow = !this.addBoxShow;
                    this.currentAddbox = true;
                    this.queryHouseCheckList();
                },
                // 加床按钮
                addBed() {
                    let tempObj = {
                        name: '',
                        size: ''
                    }
                    this.addHouseBed_info.push(tempObj);
                },
                // 表格点击
                houseTableCell(row, column, cell, event) {
                    // console.log(row.id);
                    this.deleHouseID = row.id;
                },
                // 删除房型按钮
                setDeleHouseTypeBtn() {
                    // console.log('删除按钮dianji');
                    setTimeout(() => {
                        this.setDeleHouseType();
                    }, 60);
                },
                // 房型修改详情按钮
                setReviseHouseTypeBtn() {
                    this.currentAddbox = false;
                    this.addBoxShow = !this.addBoxShow;
                    setTimeout(() => {
                        this.queryHouseTypeAll();
                    }, 60);
                },
                // 取消关闭add
                closeAddBoxClick() {
                    this.addBoxShow = false;
                },
                // 弹出层右上角关闭
                closeAddBoxClick() {
                    this.addBoxShow = false;
                },
                // add确认
                UploadHouseInfo() {

                    for (let i = 0; i < this.addHouseCheckList.length; i++) {
                        let arr = [];
                        for (let j = 0; j < this.addHouseCheckList[i].content.length; j++) {
                            for (let m = 0; m < this.addHouseInfoList.length; m++) {
                                if (this.addHouseInfoList[m] == this.addHouseCheckList[i].content[j].name) {
                                    arr.push(this.addHouseCheckList[i].content[j].id.toString());
                                }
                            }
                        }
                        if (this.addHouseCheckList[i].title == "基础设施") {
                            this.addHouseInfrastructure = arr;
                        } else if (this.addHouseCheckList[i].title == "房间设施") {
                            this.addHouseRoom_facilities = arr;
                        } else if (this.addHouseCheckList[i].title == "通讯娱乐") {
                            this.addHouseCommunication = arr;
                        } else if (this.addHouseCheckList[i].title == "浴室设备") {
                            this.addHouseBathroom = arr;
                        } else if (this.addHouseCheckList[i].title == "食品/饮品") {
                            this.addHouseFood = arr;
                        }
                    }
                    for (let i = 0; i < this.addHouseHousing_code.length; i++) {
                        if (this.addHouseHousing_code[i] == '接待儿童') {
                            this.addHouseHousing_code[i] = 1;
                        } else if (this.addHouseHousing_code[i] == '接待老人') {
                            this.addHouseHousing_code[i] = 2;
                        } else if (this.addHouseHousing_code[i] == '抽烟') {
                            this.addHouseHousing_code[i] = 3;
                        } else if (this.addHouseHousing_code[i] == '带宠物') {
                            this.addHouseHousing_code[i] = 4;
                        } else if (this.addHouseHousing_code[i] == '商业拍摄') {
                            this.addHouseHousing_code[i] = 5;
                        } else if (this.addHouseHousing_code[i] == '聚会') {
                            this.addHouseHousing_code[i] = 6;
                        } else if (this.addHouseHousing_code[i] == '额外加人') {
                            this.addHouseHousing_code[i] = 7;
                        } else if (this.addHouseHousing_code[i] == '接待外宾') {
                            this.addHouseHousing_code[i] = 8;
                        }
                    }
                    if (this.addHouseGo_time == 2) {
                        this.addHouseGo_time = this.addHouseGo_timeText;
                    }
                    if (this.addHouseOut_time == 2) {
                        this.addHouseOut_time = this.addHouseOut_timeText;
                    }
                    // if (this.addHouseDeposit == 2) {
                    //     this.addHouseDeposit = this.addHouseDeposit_money;
                    // }
                    // if (this.addHouseExtra_bed == 3) {
                    //     this.addHouseExtra_bed = this.addHouseExtra_bed_money;
                    // }

                    if (!this.addHouseTypeName || !this.addHouseTypeSize || !this.addHouseSeveral_rooms || !this.addHouseBed_info[0].name || !this.addHouseBed_info[0].size || !this.addHouseNumber || !this.addHouseWindow || !this.addHousebreakfast || !this.addHouseWc || !this.addHouseVolume || !this.addHouseTestera || !this.addHouseList || !this.addHouseIs_cook || !this.addHouseGo_time || !this.addHouseOut_time || !this.addHouseStartTime || !this.addHouseEndTime || !this.addHouseInvoice || !this.addHouseHousing_code) {
                        this.failTip("信息填写不完整");
                    } else if (this.addHouseGo_time != '12:00' && this.addHouseGo_timeText == '') {
                        this.failTip("信息填写不完整");
                    } else if (this.addHouseOut_time != '12:00' && this.addHouseOut_timeText == '') {
                        this.failTip("信息填写不完整");
                    } else if (this.addHouseExtra_bed == 3 && this.addHouseExtra_bed_money == '') {
                        this.failTip("信息填写不完整");
                    } else if (this.addHouseDeposit != 0 && this.addHouseDeposit_money == '') {
                        this.addHouseDeposit = 0;
                    } else {
                        this.setAddhouseTypeInfo();
                    }
                },

                // 新建图片上传change
                onUpload(file, fileList) {
                    this.uploadNum++;
                    if (this.uploadNum == 2) {
                        this.addHouseList = fileList;
                        this.uploadNum = 0;
                    }
                },
                // 详情图片上传change
                onReviseUpload(file, fileList) {
                    this.uploadNum++;
                    if (this.uploadNum == 2) {
                        // console.log(file);
                        this.addHouseList = fileList;
                        this.setReviseHouseTypeImg(file.raw);
                        this.uploadNum = 0;
                    }
                },
                // 详情删除图片remove
                onDeleRevise(file, fileList) {
                    // console.log(file);
                    // console.log(file.name);
                    // console.log(this.addHouseList)
                    let deleNum = 0;
                    for (let i = 0; i < this.addHouseList.length; i++) {
                        if (file.name == this.addHouseList[i].name) {
                            deleNum = i;
                            break;
                        }
                    }
                    // console.log(deleNum);
                    // console.log(this.homeImgNum);
                    if (this.homeImgNum == deleNum) {
                        this.homeImgNum = 0;
                    }
                    this.setReviseHouseTypeDeleImg(file.name);
                },
                // 新建设为主图按钮
                uploadIsMain(i) {
                    this.homeImgNum = i;
                },
                // 详情设为主图 setReviseHouseTypeIsMainImg
                uploadReviseIsMain(i) {
                    this.homeImgNum = i;
                    this.setReviseHouseTypeIsMainImg();
                },
                // 详情图片上传
                setReviseHouseTypeImg(file) {
                    // console.log(this.deleHouseID);
                    let that = this;
                    let fd = new FormData();
                    fd.append('file', file);
                    fd.append('house_id', this.deleHouseID);
                    $.ajax({
                        url: setReviseHouseTypeImgURL,
                        data: fd,
                        type: 'POST',
                        processData: false,
                        contentType: false,
                        success(res) {
                            if (res.code == 200) {
                                that.queryHouseTypeAll();
                            }
                        }
                    })
                },
                // 详情图片删除
                setReviseHouseTypeDeleImg(img_id) {
                    let that = this;
                    $.ajax({
                        url: setReviseHouseTypeDeleImgURL,
                        type: 'POST',
                        data: {
                            img_id,
                            homestay_id: this.deleHouseID
                        },
                        success(res) {
                            // console.log(res);
                            if (res.code == 200) {
                                that.queryHouseTypeAll();
                            }
                        }
                    })
                },
                // 修改房型确认按钮
                ReviseHouseTypeInfoBtn() {
                    this.setReviseHouseTypeInfo();
                },




                // 房价前七天 
                deforePriceWeek() {
                    this.priceDateNum--;
                    let that = this;
                    $.ajax({
                        url: queryHousePriceListURL,
                        data: {
                            id: this.currentHomeStayID,
                            datatype: 2,
                            data: this.startHousePricedate
                        },
                        type: 'POST',
                        Frontdata: 'json',
                        success(res) {
                            if (res.code == 200) {
                                let tempDataArr = res.data.data;
                                let tempArr = [];
                                let tempWeekArr = [];
                                if (res.code == 200) {
                                    for (let i = 0; i < tempDataArr.length; i++) {
                                        let tempObj = {};
                                        tempObj.house_id = tempDataArr[i].house_id;
                                        tempObj.house_name = tempDataArr[i].house_name;

                                        for (let j = 0; j < tempDataArr[i].name.length; j++) {
                                            tempObj[tempDataArr[i].name[j].data] = tempDataArr[i].name[j].price;
                                            tempObj.homestay_id = tempDataArr[i].name[j].homestay_id;
                                            tempObj.id = tempDataArr[i].name[j].id;
                                            tempObj.week = tempDataArr[i].name[j].week;

                                        }
                                        tempArr.push(tempObj);


                                    }
                                    for (let i = 0; i < tempDataArr[0].name.length; i++) {
                                        tempWeekArr.push(tempDataArr[0].name[i].data);
                                    }
                                    that.housePriceTabWeek = tempWeekArr;
                                    that.housePriceTabData = tempArr;
                                    that.startHousePricedate = res.data.frontdata;
                                    that.endHousePricedate = res.data.afterdata;
                                }
                            }
                        }
                    });

                    // this.housePriceDate();
                },
                // 房价后七天
                afterPriceWeek() {

                    this.priceDateNum++;
                    let that = this;
                    $.ajax({
                        url: queryHousePriceListURL,
                        data: {
                            id: this.currentHomeStayID,
                            datatype: 1,
                            data: this.endHousePricedate
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            if (res.code == 200) {
                                let tempDataArr = res.data.data;
                                let tempArr = [];
                                let tempWeekArr = [];
                                if (res.code == 200) {
                                    for (let i = 0; i < tempDataArr.length; i++) {
                                        let tempObj = {};
                                        tempObj.house_id = tempDataArr[i].house_id;
                                        tempObj.house_name = tempDataArr[i].house_name;

                                        for (let j = 0; j < tempDataArr[i].name.length; j++) {
                                            tempObj[tempDataArr[i].name[j].data] = tempDataArr[i].name[j].price;
                                            tempObj.homestay_id = tempDataArr[i].name[j].homestay_id;
                                            tempObj.id = tempDataArr[i].name[j].id;
                                            tempObj.week = tempDataArr[i].name[j].week;
                                        }
                                        tempArr.push(tempObj);
                                    }
                                    for (let i = 0; i < tempDataArr[0].name.length; i++) {
                                        tempWeekArr.push(tempDataArr[0].name[i].data);
                                    }
                                    that.housePriceTabWeek = tempWeekArr;
                                    that.housePriceTabData = tempArr;
                                    that.startHousePricedate = res.data.frontdata;
                                    that.endHousePricedate = res.data.afterdata;
                                }
                            }
                        }
                    })
                },

                // 左侧民宿列表请求
                queryHomeStayList() {
                    let that = this;
                    $.ajax({
                        url: queryHomeStayListURL,
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            // console.log(res);
                            if (res.code == 200) {
                                that.homeStayData = res.data;
                                that.activeHomeStayID = res.data[0].id;
                                that.activeHouseTypeList();
                            } else {
                                that.failTip(res.msg);
                            }
                        }
                    })
                },
                // 首次民宿房型请求
                activeHouseTypeList() {
                    let that = this;
                    $.ajax({
                        url: houseTypeListURL,
                        type: 'POST',
                        data: {
                            size: this.currentSize,
                            order: this.currentPage,
                            homestay_id: this.activeHomeStayID
                        },
                        dataType: 'json',
                        success(res) {
                            if (res.code == 200) {
                                that.houseData = res.data.data;
                                that.allTotal = res.data.total;
                                that.currentHomeStayID = that.activeHomeStayID;
                            } else {
                                that.failTip(res.msg);
                            }
                        }
                    })
                },
                // 民宿tab切换房型请求
                HouseTypeList() {
                    let that = this;
                    $.ajax({
                        url: houseTypeListURL,
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            size: this.currentSize,
                            order: this.currentPage,
                            homestay_id: this.currentHomeStayID,
                        },
                        success(res) {
                            // console.log(res);
                            if (res.code == 200) {
                                that.houseData = res.data.data;
                                that.allTotal = res.data.total;
                                this.addBoxShow = false;
                            }

                        }
                    })
                },
                // 房型查询请求
                houseTypeNameSreach() {
                    let that = this;
                    $.ajax({
                        url: houseTypeListURL,
                        type: 'POST',
                        dataType: 'json',
                        data: {
                            name: this.houseName,
                            homestay_id: this.currentHomeStayID
                        },
                        success(res) {
                            if (res.code == 200) {
                                that.houseData = res.data.data;
                                that.allTotal = res.data.total;
                            } else {
                                that.failTip(res.msg);
                            }
                        }
                    })
                },
                // 房型设施请求
                queryHouseCheckList() {
                    let that = this;
                    $.ajax({
                        url: queryHouseCheckListURL,
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            // console.log(res);
                            if (res.code == 200) {
                                that.addHouseCheckList = res.data;
                            }
                        }
                    })
                },
                // 添加房型请求(除图片)请求
                setAddhouseTypeInfo() {
                    let that = this;
                    $.ajax({
                        url: setAddhouseTypeInfoURL,
                        data: {
                            name: this.addHouseTypeName,
                            size: this.addHouseTypeSize,
                            several_rooms: this.addHouseSeveral_rooms,
                            bed_info: this.addHouseBed_info,
                            number: this.addHouseNumber,
                            window: this.addHouseWindow,
                            breakfast: this.addHousebreakfast,
                            wc: this.addHouseWc,
                            volume: this.addHouseVolume,
                            room_facilities: this.addHouseRoom_facilities,
                            infrastructure: this.addHouseInfrastructure,
                            communication: this.addHouseCommunication,
                            bathroom: this.addHouseBathroom,
                            food: this.addHouseFood,
                            housing_details: this.addHouseTestera,
                            extra_bed: this.addHouseExtra_bed,
                            extra_bed_money: this.addHouseExtra_bed_money,
                            is_cook: this.addHouseIs_cook,
                            go_time: this.addHouseGo_time,
                            out_time: this.addHouseOut_time,
                            reception_start_time: this.addHouseStartTime,
                            reception_end_time: this.addHouseEndTime,
                            invoice: this.addHouseInvoice,
                            deposit: this.addHouseDeposit,
                            housing_code: this.addHouseHousing_code,
                            homestay_id: this.currentHomeStayID
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            if (res.code == 200) {
                                // that.HouseTypeList();
                                that.setAddHouseTypeImg(res.data);
                                // that.successTip(res.msg);
                            } else {
                                that.failTip(res.msg);
                            }
                        }
                    })
                },
                // 添加房型图片请求
                setAddHouseTypeImg(id) {
                    let fd = new FormData();
                    for (let i = 0; i < this.addHouseList.length; i++) {
                        fd.append("files[]", this.addHouseList[i].raw);
                    }
                    fd.append('id', id);
                    fd.append('flag', this.homeImgNum);
                    let that = this;
                    $.ajax({
                        url: setAddHouseTypeImgURL,
                        type: 'POST',
                        data: fd,
                        processData: false,
                        contentType: false,
                        success(res) {
                            // console.log(res);
                            if (res.code == 200) {
                                that.HouseTypeList();
                                that.addBoxShow = false;
                            }
                        }
                    })
                },
                // 删除房型请求
                setDeleHouseType() {
                    // console.log(this.deleHouseID);
                    let that = this;
                    $.ajax({
                        url: setDeleHouseTypeUrl,
                        data: {
                            id: this.deleHouseID
                        },
                        dataType: 'json',
                        type: 'POST',
                        success(res) {
                            if (res.code == 200) {
                                if (that.currentPage != 1 && that.allTotal % 5 == 1) {
                                    that.currentPage--;
                                    console.log(that.currentPage);
                                }

                                that.HouseTypeList();
                            } else {
                                that.failTip(res.msg);
                            }
                        }
                    })
                },
                // 房型详情请求
                queryHouseTypeAll() {
                    let that = this;
                    $.ajax({
                        url: queryHouseTypeAllURL,
                        data: {
                            id: this.deleHouseID
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            if (res.code == 200) {
                                that.resiveHouseInfoData = res.data.data;
                                that.addHouseTypeName = res.data.data.name;
                                that.addHouseTypeSize = res.data.data.size;
                                that.addHouseSeveral_rooms = res.data.data.several_rooms;
                                that.addHouseBed_info = res.data.data.bed_info;
                                that.addHouseNumber = res.data.data.number;
                                that.addHouseWindow = res.data.data.window;
                                that.addHousebreakfast = res.data.data.breakfast;
                                that.addHouseWc = res.data.data.wc;
                                that.addHouseVolume = res.data.data.volume;
                                let tempCheckArr = res.data.data.room_facilities.concat(res.data.data.infrastructure, res.data.data.communication, res.data.data.bathroom, res.data.data.food);
                                that.addHouseCheckList = res.data.title;
                                for (let i = 0; i < res.data.title.length; i++) {
                                    for (let j = 0; j < res.data.title[i].content.length; j++) {
                                        for (let m = 0; m < tempCheckArr.length; m++) {
                                            if (res.data.title[i].content[j].id == tempCheckArr[m] * 1) {
                                                tempCheckArr[m] = res.data.title[i].content[j].name;
                                            }
                                        }
                                    }
                                }
                                that.addHouseInfoList = tempCheckArr;
                                that.addHouseRoom_facilities = res.data.data.room_facilities;
                                that.addHouseInfrastructure = res.data.data.infrastructure;
                                that.addHouseCommunication = res.data.data.communication;
                                that.addHouseBathroom = res.data.data.bathroom;
                                that.addHouseFood = res.data.data.food;

                                that.addHouseTestera = res.data.data.housing_details;
                                that.addHouseExtra_bed = res.data.data.extra_bed;
                                that.addHouseExtra_bed_money = res.data.data.extra_bed_money;

                                for (let i = 0; i < res.data.data.img.length; i++) {
                                    if (res.data.data.img[i].is_main == 1) {
                                        let tempObj = {};
                                        tempObj = res.data.data.img[i];
                                        res.data.data.img[i] = res.data.data.img[0];
                                        res.data.data.img[0] = tempObj;
                                    }
                                }
                                let tempImgArr = [];
                                for (let i = 0; i < res.data.data.img.length; i++) {
                                    let tempObj = {
                                        name: '',
                                        url: ''
                                    }
                                    tempObj.name = res.data.data.img[i].img_id.toString();;
                                    tempObj.url = res.data.data.img[i].img_url;
                                    tempImgArr.push(tempObj);
                                }

                                that.addHouseList = tempImgArr;
                                that.mounteImgArr = tempImgArr;
                                that.addHouseIs_cook = res.data.data.is_cook;
                                that.addHouseGo_time = res.data.data.go_time;
                                that.addHouseGo_timeText = res.data.data.go_time;
                                that.addHouseOut_time = res.data.data.out_time;
                                that.addHouseOut_timeText = res.data.data.out_time;
                                that.addHouseStartTime = res.data.data.reception_start_time;
                                that.addHouseEndTime = res.data.data.reception_end_time;
                                that.addHouseInvoice = res.data.data.invoice;
                                console.log(res.data.data.deposit);
                                that.addHouseDeposit = res.data.data.deposit;
                                that.addHouseDeposit_money = res.data.data.deposit;
                                if (res.data.data.deposit != 0 && that.addHouseDeposit_money == '') {
                                    that.addHouseDeposit = 0;
                                } else if (res.data.data.deposit != 0 && that.addHouseDeposit_money == 0) {
                                    that.addHouseDeposit = 0;
                                }
                                if (res.data.data.deposit != 0) {
                                    that.addHouseDeposit = 2;
                                    that.addHouseDeposit_money = res.data.data.deposit;
                                }
                                let tempaddHouseHousing_code = res.data.data.housing_code.split(',');
                                for (let i = 0; i < tempaddHouseHousing_code.length; i++) {
                                    if (tempaddHouseHousing_code[i] * 1 == 1) {
                                        tempaddHouseHousing_code[i] = '接待儿童';
                                    } else if (tempaddHouseHousing_code[i] * 1 == 2) {
                                        tempaddHouseHousing_code[i] = '接待老人';
                                    } else if (tempaddHouseHousing_code[i] * 1 == 3) {
                                        tempaddHouseHousing_code[i] = '抽烟';
                                    } else if (tempaddHouseHousing_code[i] * 1 == 4) {
                                        tempaddHouseHousing_code[i] = '带宠物';
                                    } else if (tempaddHouseHousing_code[i] * 1 == 5) {
                                        tempaddHouseHousing_code[i] = '商业拍摄';
                                    } else if (tempaddHouseHousing_code[i] * 1 == 6) {
                                        tempaddHouseHousing_code[i] = '聚会';
                                    } else if (tempaddHouseHousing_code[i] * 1 == 7) {
                                        tempaddHouseHousing_code[i] = '额外加人';
                                    } else if (tempaddHouseHousing_code[i] * 1 == 8) {
                                        tempaddHouseHousing_code[i] = '接待外宾';
                                    }
                                }
                                that.addHouseHousing_code = tempaddHouseHousing_code;
                                that.addBoxShow = true;
                            } else {
                                that.failTip(res.msg);
                            }
                        }
                    })
                },
                // 详情设为主图请求
                setReviseHouseTypeIsMainImg() {
                    let img_id = this.mounteImgArr[this.homeImgNum].name;
                    // console.log(this.deleHouseID)
                    let that = this;
                    $.ajax({
                        url: setReviseHouseTypeIsMainImgURL,
                        type: 'POST',
                        data: {
                            img_id,
                            house_id: this.deleHouseID
                        },
                        dataType: 'json',
                        success(res) {
                            if (res.code == 200) {
                                that.homeImgNum = 0;
                                that.queryHouseTypeAll();
                            }
                        }
                    })
                },
                // 修改房型请求
                setReviseHouseTypeInfo() {
                    let that = this;
                    for (let i = 0; i < this.addHouseHousing_code.length; i++) {
                        if (this.addHouseHousing_code[i] == '接待儿童') {
                            this.addHouseHousing_code[i] = 1;
                        } else if (this.addHouseHousing_code[i] == '接待老人') {
                            this.addHouseHousing_code[i] = 2;
                        } else if (this.addHouseHousing_code[i] == '抽烟') {
                            this.addHouseHousing_code[i] = 3;
                        } else if (this.addHouseHousing_code[i] == '带宠物') {
                            this.addHouseHousing_code[i] = 4;
                        } else if (this.addHouseHousing_code[i] == '商业拍摄') {
                            this.addHouseHousing_code[i] = 5;
                        } else if (this.addHouseHousing_code[i] == '聚会') {
                            this.addHouseHousing_code[i] = 6;
                        } else if (this.addHouseHousing_code[i] == '额外加人') {
                            this.addHouseHousing_code[i] = 7;
                        } else if (this.addHouseHousing_code[i] == '接待外宾') {
                            this.addHouseHousing_code[i] = 8;
                        }
                    }
                    if (this.addHouseGo_time == 2) {
                        // let tempGo = 
                        this.addHouseGo_time = this.addHouseGo_timeText;
                    }
                    if (this.addHouseOut_time == 2) {
                        // let tempOut = 
                        this.addHouseOut_time = this.addHouseOut_timeText;
                    }
                    if (this.addHouseDeposit == 2 && this.addHouseDeposit_money == '') {
                        this.addHouseDeposit = 0;
                    }
                    if (this.addHouseDeposit == 2 && this.addHouseDeposit_money == 0) {
                        this.addHouseDeposit = 0;
                    }
                    $.ajax({
                        url: setReviseHouseTypeInfoURL,
                        data: {
                            id: this.deleHouseID,
                            name: this.addHouseTypeName,
                            size: this.addHouseTypeSize,
                            several_rooms: this.addHouseSeveral_rooms,
                            bed_info: this.addHouseBed_info,
                            number: this.addHouseNumber,
                            window: this.addHouseWindow,
                            breakfast: this.addHousebreakfast,
                            wc: this.addHouseWc,
                            volume: this.addHouseVolume,
                            room_facilities: this.addHouseRoom_facilities,
                            infrastructure: this.addHouseInfrastructure,
                            communication: this.addHouseCommunication,
                            bathroom: this.addHouseBathroom,
                            food: this.addHouseFood,
                            housing_details: this.addHouseTestera,
                            extra_bed: this.addHouseExtra_bed,
                            extra_bed_money: this.addHouseExtra_bed_money,
                            is_cook: this.addHouseIs_cook,
                            go_time: this.addHouseGo_time,
                            out_time: this.addHouseOut_time,
                            reception_start_time: this.addHouseStartTime,
                            reception_end_time: this.addHouseEndTime,
                            invoice: this.addHouseInvoice,
                            deposit: this.addHouseDeposit,
                            housing_code: this.addHouseHousing_code,
                            homestay_id: this.currentHomeStayID
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            if (res.code == 200) {
                                // console.log(res);
                                that.addBoxShow = false;
                                that.HouseTypeList();
                            } else {
                                that.failTip(res.msg);
                            }

                        }
                    })
                },

                // 房价表格点击
                priceTabClick(row, column, cell, event) {
                    this.reviseOneInput = false;
                    this.revisePriceCurrName = row['house_name'];
                    this.revisePriceCurrID = row['house_id'];
                    // console.log(row[column.property]*1)
                    this.rowhouse_id = row['house_id'] * 1;
                    this.rowcolumnproperty = row[column.property] * 1;
                    this.columnproperty = column.property;
                    // this.setOnePrice(row['house_id'] * 1, row[column.property] * 1, column.property);
                },
                priceTabLeave(row, column, cell, event){
                    if(this.rowhouse_id && this.rowcolumnproperty && this.columnproperty){
                        this.setOnePrice(this.rowhouse_id, this.rowcolumnproperty, this.columnproperty);
                    }
                },

                // 房价列表请求
                queryHousePriceList() {
                    let that = this;
                    console.log(this.currentHomeStayID);
                    $.ajax({
                        url: queryHousePriceListURL,
                        data: {
                            id: this.currentHomeStayID,
                            datatype: 3
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            let tempDataArr = res.data.data;
                            let tempArr = [];
                            let tempWeekArr = [];
                            // console.log(res.data.data.length);
                            if (res.code == 200) {
                                if (res.data.data.length != 0) {
                                    for (let i = 0; i < tempDataArr.length; i++) {
                                        let tempObj = {};
                                        // that.reviseStateCurrNameArr.push(tempDataArr[i].house_name);
                                        // that.reviseStateCurrIDArr.push(tempDataArr[i].house_id);
                                        tempObj.house_id = tempDataArr[i].house_id;
                                        tempObj.house_name = tempDataArr[i].house_name;
                                        for (let j = 0; j < tempDataArr[i].name.length; j++) {
                                            tempObj[tempDataArr[i].name[j].data] = tempDataArr[i].name[j].price;
                                            tempObj.homestay_id = tempDataArr[i].name[j].homestay_id;
                                            tempObj.id = tempDataArr[i].name[j].id;
                                            tempObj.week = tempDataArr[i].name[j].week;
                                        }
                                        tempArr.push(tempObj);
                                    }
                                    for (let i = 0; i < tempDataArr[0].name.length; i++) {
                                        tempWeekArr.push(tempDataArr[0].name[i].data);
                                    }
                                    that.housePriceTabWeek = tempWeekArr;
                                    that.housePriceTabData = tempArr;
                                    that.startHousePricedate = res.data.frontdata;
                                    that.endHousePricedate = res.data.afterdata;
                                } else {
                                    // that.reviseStateCurrNameArr = [];
                                    // that.reviseStateCurrIDArr = [];
                                    that.housePriceTabWeek = [];
                                    that.housePriceTabData = [];
                                    that.startHousePricedate = '';
                                    that.endHousePricedate = '';
                                }
                            }
                        }
                    })
                },
                // 单个房价修改
                setOnePrice(id, price, data) {
                    console.log()
                    let that = this;
                    $.ajax({
                        url: setOnePriceURL,
                        data: {
                            id,
                            data,
                            price
                        },
                        type: 'POST',
                        datatype: 'json',
                        success(res) {
                            console.log(res);
                            if (res.code == 200) {
                                that.rowhouse_id = '';
                                that.rowcolumnproperty = '';
                                that.columnproperty = '';
                            } else {
                                // that.failTip(res.msg);
                            }
                        }
                    })
                },
                // 批量修改房价按钮
                revisePriceFrameBtn() {

                    this.revisePriceFrame = !this.revisePriceFrame
                },
                // 取消修改房量按钮
                closeReviseAllPriceBox() {
                    this.revisePriceFrame = false;
                },
                // 确认修改方量按钮
                ReviseAllPriceBtn() {
                    this.setAllPrice();
                },
                // 批量修改房量请求
                setAllPrice() {
                    let that = this;
                    $.ajax({
                        url: setAllPriceURL,
                        data: {
                            house_id: this.revisePriceCurrID,
                            frontdata: this.revisePriceFrameDate[0],
                            afterdata: this.revisePriceFrameDate[1],
                            week: this.checkedCities,
                            price: this.revisePriceFrameInp
                        },
                        type: "POST",
                        datatype: 'json',
                        success(res) {
                            if (res.code == 200) {
                                that.queryHousePriceList();
                                that.revisePriceFrame = false;
                            }
                        }
                    })
                },
                // 批量房价弹框复选
                revisePriceCheckAll(val) {
                    let tempArr = [];
                    for (let i = 0; i < cityOptions.length; i++) {
                        tempArr.push(cityOptions[i].label)
                    }
                    this.checkedCities = val ? tempArr : [];
                    this.isIndeterminate = false;
                },
                // 批量房价弹框复选全选
                revisePriceCheckedCitiesChange(value) {
                    let checkedCount = value.length;
                    this.checkAll = checkedCount === this.cities.length;
                    this.isIndeterminate = checkedCount > 0 && checkedCount < this.cities.length;
                },

                // ----------------------- 房态房量 ------------------------
                // 房态弹出框
                reviseStateFrameClick() {
                    this.reviseStateFrame = !this.reviseStateFrame;
                },
                closeReviseStateClick() {
                    this.reviseStateFrame = false;
                },
                // 房量弹出框
                reviseNumFrameClick() {
                    this.reviseNumFrame = !this.reviseNumFrame
                },
                closeReviseNumClick() {
                    this.reviseNumFrame = false;
                },

                roomStateOpen() {
                    // this.reviseStateFrame = false;
                    this.setReviseStateAll();
                },
                roomStateClose() {
                    this.reviseStateFrame = false;
                },
                stateOpenHouseBtn(){
                    this.stateOpenHouse = 2;
                },
                stateCloseHouseBtn(){
                    this.stateOpenHouse = 1;
                },
                //房态批量修改请求
                setReviseStateAll(){
                    let that = this;
                    $.ajax({
                        url: setReviseStateAllUrl,
                        data:{
                            house_id: this.checkedStateHousenameList,
                            frontdata: this.roomStateValue[0],
                            afterdata: this.roomStateValue[1],
                            status: this.stateOpenHouse,
                            week: this.checkedCitiesState
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res){
                            if(res.code == 200){
                                that.reviseStateFrame = false; 
                                that.queryHouseStateList();
                            }
                        }
                    })
                },
                roomNumOpen() {
                    // this.reviseNumFrame = false;
                    this.setReviseNumAll();
                },
                roomNumClose() {
                    this.reviseNumFrame = false;
                },
                // 房量批量修改请求
                setReviseNumAll(){
                    let tempArr = [];
                    for(let i = 0; i < this.currentCheckedNumHousenameInput.length; i++){
                        let tempObj = {};
                        if(this.checkedNumHousenameInput[this.currentCheckedNumHousenameInput[i]] && this.checkedStateHousenameList[this.currentCheckedNumHousenameInput[i]]){
                            tempObj.house_id = this.checkedStateHousenameList[this.currentCheckedNumHousenameInput[i]];
                            tempObj.house_num = this.checkedNumHousenameInput[this.currentCheckedNumHousenameInput[i]];
                            tempArr.push(tempObj);
                        }
                        
                    }
                    let that = this;
                    $.ajax({
                        url: setReviseNumAllUrl,
                        data:{
                            house: tempArr,
                            frontdata: this.roomNumValue[0],
                            afterdata: this.roomNumValue[1],
                            week: this.checkedCitiesNum
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res){
                            console.log(res)
                            if(res.code == 200){
                                that.reviseNumFrame = false; 
                                that.queryHouseStateList();
                            }
                        }
                    })
                },
                // 房态表格点击
                stateTabClick(row, column, cell, event) {
                    // this.reviseOneInput = false;
                    this.reviseStateCurrName = row['house_name'];
                    this.reviseStateCurrID = row['house_id'];
                    this.reviseStateCurrDate = column.property;
                    this.reviseStateOverNum = row[column.property][1];
                },
                // 房态列表请求
                queryHouseStateList() {
                    let that = this;
                    $.ajax({
                        url: queryHouseStateListURL,
                        data: {
                            id: this.currentHomeStayID,
                            datatype: 3
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {

                            // console.log(res.data)
                            let tempDataArr = res.data.data;
                            let tempArr = [];
                            let tempWeekArr = [];
                            // console.log(res.data.data.length);
                            if (res.code == 200) {
                                if (res.data.data.length != 0) {
                                    that.reviseStateCurrNameArr = [];
                                    that.reviseStateCurrIDArr = [];
                                    for (let i = 0; i < tempDataArr.length; i++) {
                                        let tempObj = {};
                                        that.reviseStateCurrNameArr.push(tempDataArr[i].house_name);
                                        that.reviseStateCurrIDArr.push(tempDataArr[i].house_id);
                                        tempObj.house_id = tempDataArr[i].house_id;
                                        tempObj.house_name = tempDataArr[i].house_name;
                                        for (let j = 0; j < tempDataArr[i].name.length; j++) {
                                            let tempObjArr = tempObj[tempDataArr[i].name[j].data] = [];
                                            tempObjArr.push(tempDataArr[i].name[j].house_num);
                                            tempObjArr.push(tempDataArr[i].name[j].sold_num);
                                            tempObjArr.push(tempDataArr[i].name[j].status);
                                            tempObj.homestay_id = tempDataArr[i].name[j].homestay_id;
                                            tempObj.status = tempDataArr[i].name[j].status;
                                            tempObj.week = tempDataArr[i].name[j].week;
                                        }
                                        tempArr.push(tempObj);
                                    }
                                    for (let i = 0; i < tempDataArr[0].name.length; i++) {
                                        tempWeekArr.push(tempDataArr[0].name[i].data);
                                    }
                                    // console.log(that.reviseStateCurrNameArr)
                                    // console.log(that.reviseStateCurrIDArr)
                                    that.houseStateTabWeek = tempWeekArr;
                                    that.houseStateTabData = tempArr;
                                    that.startHouseStatedate = res.data.frontdata;
                                    that.endHouseStatedate = res.data.afterdata;
                                } else {
                                    that.reviseStateCurrNameArr = [];
                                    that.reviseStateCurrIDArr = [];
                                    that.houseStateTabWeek = [];
                                    that.houseStateTabData = [];
                                    that.startHouseStatedate = '';
                                    that.endHouseStatedate = '';
                                }
                            }
                        }
                    })
                },
                // 房态前七天 
                deforeStateWeek() {
                    this.stateDateNum--;
                    let that = this;
                    $.ajax({
                        url: queryHouseStateListURL,
                        data: {
                            id: this.currentHomeStayID,
                            datatype: 2,
                            data: this.startHouseStatedate
                        },
                        type: 'POST',
                        Frontdata: 'json',
                        success(res) {
                            // console.log(res.data)
                            if (res.code == 200) {
                                let tempDataArr = res.data.data;
                                let tempArr = [];
                                let tempWeekArr = [];
                                if (res.code == 200) {
                                        that.reviseStateCurrNameArr = [];
                                        that.reviseStateCurrIDArr = [];
                                    for (let i = 0; i < tempDataArr.length; i++) {
                                        let tempObj = {};
                                        that.reviseStateCurrNameArr.push(tempDataArr[i].house_name);
                                        that.reviseStateCurrIDArr.push(tempDataArr[i].house_id);
                                        tempObj.house_id = tempDataArr[i].house_id;
                                        tempObj.house_name = tempDataArr[i].house_name;

                                        for (let j = 0; j < tempDataArr[i].name.length; j++) {
                                            let tempObjArr = tempObj[tempDataArr[i].name[j].data] = [];
                                            tempObjArr.push(tempDataArr[i].name[j].house_num);
                                            tempObjArr.push(tempDataArr[i].name[j].sold_num);
                                            tempObjArr.push(tempDataArr[i].name[j].status);
                                            tempObj.homestay_id = tempDataArr[i].name[j].homestay_id;
                                            tempObj.id = tempDataArr[i].name[j].id;
                                            tempObj.week = tempDataArr[i].name[j].week;

                                        }
                                        tempArr.push(tempObj);
                                    }
                                    for (let i = 0; i < tempDataArr[0].name.length; i++) {
                                        tempWeekArr.push(tempDataArr[0].name[i].data);
                                    }
                                    that.reviseStateCurrNameArr = [];
                                    that.reviseStateCurrIDArr = [];
                                    that.houseStateTabWeek = tempWeekArr;
                                    that.houseStateTabData = tempArr;
                                    that.startHouseStatedate = res.data.frontdata;
                                    that.endHouseStatedate = res.data.afterdata;
                                }
                            }
                        }
                    })
                },
                // 房态后七天
                afterStateWeek() {
                    this.stateDateNum++;
                    let that = this;
                    $.ajax({
                        url: queryHouseStateListURL,
                        data: {
                            id: this.currentHomeStayID,
                            datatype: 1,
                            data: this.endHouseStatedate
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            if (res.code == 200) {
                                if (res.data.data.length != 0) {
                                    let tempDataArr = res.data.data;
                                    let tempArr = [];
                                    let tempWeekArr = [];
                                    that.reviseStateCurrNameArr = [];
                                    that.reviseStateCurrIDArr = [];
                                    for (let i = 0; i < tempDataArr.length; i++) {
                                        let tempObj = {};
                                        that.reviseStateCurrNameArr.push(tempDataArr[i].house_name);
                                        that.reviseStateCurrIDArr.push(tempDataArr[i].house_id);
                                        tempObj.house_id = tempDataArr[i].house_id;
                                        tempObj.house_name = tempDataArr[i].house_name;

                                        for (let j = 0; j < tempDataArr[i].name.length; j++) {
                                            let tempObjArr = tempObj[tempDataArr[i].name[j].data] = [];
                                            tempObjArr.push(tempDataArr[i].name[j].house_num);
                                            tempObjArr.push(tempDataArr[i].name[j].sold_num);
                                            tempObjArr.push(tempDataArr[i].name[j].status);
                                            tempObj.homestay_id = tempDataArr[i].name[j].homestay_id;
                                            tempObj.status = tempDataArr[i].name[j].status;
                                            tempObj.week = tempDataArr[i].name[j].week;
                                        }
                                        tempArr.push(tempObj);
                                    }
                                    for (let i = 0; i < tempDataArr[0].name.length; i++) {
                                        tempWeekArr.push(tempDataArr[0].name[i].data);
                                    }
                                    that.houseStateTabWeek = tempWeekArr;
                                    that.houseStateTabData = tempArr;
                                    that.startHouseStatedate = res.data.frontdata;
                                    that.endHouseStatedate = res.data.afterdata;
                                } else {
                                    that.reviseStateCurrNameArr = [];
                                    that.reviseStateCurrIDArr = [];
                                    that.housePriceTabWeek = [];
                                    that.housePriceTabData = [];
                                    that.startHousePricedate = '';
                                    that.endHousePricedate = '';
                                }

                            }
                        }
                    })
                },
                // 修改房量弹出框
                stateNumbtn() {
                    this.stateNumFlag = !this.stateNumFlag;
                },
                // 可售转关房
                stateOpenBtn() {
                    this.stateOpenFlag = !this.stateOpenFlag;
                },
                // 关房转开启
                stateCloseBtn() {
                    this.stateCloseFlag = !this.stateCloseFlag;
                },
                // 修改某天弹框取消
                closeReviseStateNumBox() {
                    this.stateNumFlag = false;
                },
                // 修改某天弹框确认
                ReviseStateNumBtn() {
                    this.setReviseStateNum();
                },
                // 修改某天房量请求
                setReviseStateNum() {
                    // console.log(this.reviseStateCurrID)
                    // console.log(this.reviseStateOverNum)
                    // console.log(this.ReviseStateNum)

                    if (this.reviseStateOverNum > this.ReviseStateNum * 1) {
                        this.failTip("修改房量应不能小于已售房量")
                    } else {
                        let that = this;
                        $.ajax({
                            url: setReviseStateNumURL,
                            type: 'POST',
                            dataType: 'json',
                            data: {
                                id: this.reviseStateCurrID,
                                data: this.reviseStateCurrDate,
                                house_num: this.ReviseStateNum
                            },
                            success(res) {
                                if (res.code == 200) {
                                    that.queryHouseStateList();
                                    that.stateNumFlag = false;
                                }
                            }
                        })
                    }
                },
                // 可售转关房确认
                ReviseStateOpenBtn() {
                    this.setReviseStateOpen();
                },
                // 可售转关房取消
                closeReviseStateOpenBox() {
                    this.stateOpenFlag = false;
                },
                // 可售转关房请求
                setReviseStateOpen() {
                    let that = this;
                    $.ajax({
                        url: setReviseStateOpenURL,
                        data: {
                            id: this.reviseStateCurrID,
                            data: this.reviseStateCurrDate
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            // console.log(res);
                            if (res.code == 200) {
                                that.queryHouseStateList();
                                that.stateOpenFlag = false;
                            }
                        }
                    })
                },
                // 关房转开启确认
                ReviseStateCloseBtn() {
                    this.setReviseStateClose();
                },
                // 关房转开启取消
                closeReviseStateCloseBox() {
                    this.stateCloseFlag = false;
                },
                // 关房转开启请求
                setReviseStateClose() {
                    let that = this;
                    $.ajax({
                        url: setReviseStateCloseURL,
                        data: {
                            id: this.reviseStateCurrID,
                            data: this.reviseStateCurrDate,
                            house_num: this.ReviseStateCloseNum
                        },
                        type: 'POST',
                        dataType: 'json',
                        success(res) {
                            // console.log(res);
                            if (res.code == 200) {
                                that.queryHouseStateList();
                                that.stateCloseFlag = false;
                            }
                        }

                    })
                },

                // 批量修改房态复选
                reviseHouseStateCheckAllChange(val) {
                    let tempArr = [];
                    for (let i = 0; i < cityOptionsState.length; i++) {
                        tempArr.push(cityOptionsState[i].label)
                    }
                    this.checkedCitiesState = val ? tempArr : [];
                    this.isIndeterminateState = false;
                },
                reviseHouseStateCheckedCitiesChange(value) {
                    let checkedCount = value.length;
                    this.checkAllState = checkedCount === this.citiesState.length;
                    this.isIndeterminateState = checkedCount > 0 && checkedCount < this.citiesState.length;
                },
                // 批量修改房量复选
                reviseHouseNumCheckAllChange(val) {
                    let tempArr = [];
                    for (let i = 0; i < cityOptionsNum.length; i++) {
                        tempArr.push(cityOptionsNum[i].label)
                    }
                    this.checkedCitiesNum = val ? tempArr : [];
                    this.isIndeterminateNum = false;
                },
                reviseHouseNumCheckedCitiesChange(value) {
                    let checkedCount = value.length;
                    this.checkAllNum = checkedCount === this.citiesNum.length;
                    this.isIndeterminateNum = checkedCount > 0 && checkedCount < this.citiesNum.length;
                },




                // 成功tip
                successTip(msg) {
                    this.$message({
                        message: `${msg}`,
                        type: 'success'
                    });
                },
                // 失败tip
                failTip(msg) {
                    this.$message({
                        message: `${msg}`,
                        type: 'warning'
                    });
                },

            },
            watch: {
                revisePriceFrame() {
                    if (!this.revisePriceFrame) {
                        this.revisePriceFrameDate = [];
                        this.checkedCities = [];
                        this.revisePriceFrameInp = 0;
                    }
                },
                currentHomeStayID() {
                    this.currentPage = 1;
                    this.HouseTypeList();
                },
                currentPage() {
                    this.HouseTypeList();
                },
                addBoxShow() {
                    if (this.addBoxShow == false || this.currentAddbox == true) {
                        this.addHouseTypeName = '';
                        this.addHouseTypeSize = '';
                        this.addHouseSeveral_rooms = '';
                        this.addHouseBed_info = [
                            {
                                name: '',
                                size: ''
                            }
                        ];
                        this.addHouseNumber = '';
                        this.addHouseWindow = '';
                        this.addHousebreakfast = '';
                        this.addHouseWc = '';
                        this.addHouseVolume = '';
                        this.addHouseInfoList = [];
                        this.addHouseRoom_facilities = [];
                        this.addHouseInfrastructure = [];
                        this.addHouseCommunication = [];
                        this.addHouseBathroom = [];
                        this.addHouseFood = [];
                        this.addHouseTestera = '';
                        this.addHouseExtra_bed = '';
                        this.addHouseExtra_bed_money = '';
                        this.addHouseList = [];
                        this.addHouseIs_cook = '';
                        this.addHouseGo_time = '';
                        this.addHouseGo_timeText = '';
                        this.addHouseOut_time = '';
                        this.addHouseOut_timeText = '';
                        this.addHouseStartTime = '';
                        this.addHouseEndTime = '';
                        this.addHouseInvoice = '';
                        this.addHouseDeposit = '';
                        this.addHouseHousing_code = [];
                    }

                },
                houseName() {
                    if (this.houseName == '') {
                        this.HouseTypeList();
                    } else {
                        this.houseTypeNameSreach();
                    }
                },
                addHouseTypeSize() {
                    let reg = /^[0-9]+$/;
                    if (this.addHouseTypeSize != '') {
                        if (!reg.test(this.addHouseTypeSize)) {
                            this.addHouseTypeSize = '';
                            this.failTip("请输入数字")
                        }
                    }
                },
                addHouseVolume() {
                    let reg = /^[0-9]+$/;
                    if (this.addHouseVolume != '') {
                        if (!reg.test(this.addHouseVolume)) {
                            this.addHouseVolume = '';
                            this.failTip("请输入数字")
                        }
                    }
                },
                addHouseDeposit_money() {
                    let reg = /^[0-9]+$/;
                    if (this.addHouseDeposit_money != '') {
                        if (!reg.test(this.addHouseDeposit_money * 1)) {
                            this.addHouseDeposit_money = '';
                            this.failTip("请输入数字")
                        }
                    }
                },
                addHouseGo_time() {
                    if (this.addHouseGo_time == '12:00') {
                        this.addHouseGo_timeText = '';
                    }
                },
                addHouseOut_time() {
                    if (this.addHouseOut_time == '12:00') {
                        this.addHouseOut_timeText = '';
                    }
                },
                addHouseDeposit() {
                    if (this.addHouseDeposit * 1 == 0) {
                        this.addHouseDeposit_money = '';
                        this.addHouseDeposit = 0;
                    }
                    // else if (this.addHouseDeposit * 1 != 0 && this.currentAddbox == false) {
                    //     this.addHouseDeposit = this.addHouseDeposit_money
                    //     // this.addHouseDeposit = 2;
                    // }
                },
                addHouseExtra_bed() {
                    if (this.addHouseExtra_bed * 1 == 1 || this.addHouseExtra_bed * 1 == 2) {
                        this.addHouseExtra_bed_money = '';
                    } else if (this.addHouseExtra_bed * 1 != 1 && this.addHouseExtra_bed * 1 != 2 && this.currentAddbox == false) {
                        this.addHouseExtra_bed = 3;
                    }
                },
                addHouseExtra_bed_money() {
                    if (this.addHouseExtra_bed_money != 0) {
                        this.addHouseExtra_bed = 3;
                    }
                },
                addHouseGo_timeText() {
                    if (this.addHouseGo_timeText != '') {
                        this.addHouseGo_time = 2;
                    }
                },
                addHouseOut_timeText() {
                    if (this.addHouseOut_timeText != '') {
                        this.addHouseOut_time = 2;
                    }
                },
                priceDateNum() {
                    if (this.priceDateNum <= 0) {
                        this.priceAfterDateFlag = false;
                        this.priceDateNum = 0;
                    } else if (this.priceDateNum >= 8) {
                        this.priceNextDateFlag = false;
                        this.priceDateNum = 8;
                    } else if (this.priceDateNum > 0 && this.priceDateNum < 9) {
                        this.priceAfterDateFlag = true;
                        this.priceNextDateFlag = true;
                    }
                },
                stateDateNum() {
                    if (this.stateDateNum <= 0) {
                        this.stateAfterDateFlag = false;
                        this.stateDateNum = 0;
                    } else if (this.stateDateNum >= 8) {
                        this.stateNextDateFlag = false;
                        this.stateDateNum = 8;
                    } else if (this.stateDateNum > 0 && this.stateDateNum < 9) {
                        this.stateAfterDateFlag = true;
                        this.stateNextDateFlag = true;
                    }
                },
                currentRevisePrice() {
                    let reg = /^[0-9]+$/;
                    if (this.currentRevisePrice != '') {
                        if (!reg.test(this.currentRevisePrice * 1)) {
                            this.currentRevisePrice = '';
                            this.failTip("请输入数字")
                        }
                    }
                },
                ReviseStateNum() {
                    let reg = /^[0-9]+$/;
                    if (this.ReviseStateNum != '') {
                        if (!reg.test(this.ReviseStateNum * 1)) {
                            this.ReviseStateNum = '';
                            this.failTip("请输入数字")
                        }
                    }
                    if (this.reviseStateOverNum > this.ReviseStateNum) {
                        this.failTip("修改房量应不能小于已售房量")
                    }
                },
                stateNumFlag() {
                    if (this.stateNumFlag == false) {
                        this.ReviseStateNum = 0;
                    }
                },
                ReviseStateCloseNum() {
                    let reg = /^[0-9]+$/;
                    if (this.ReviseStateCloseNum != '') {
                        if (!reg.test(this.ReviseStateCloseNum * 1)) {
                            this.ReviseStateCloseNum = '';
                            this.failTip("请输入数字")
                        }
                    }
                },
                stateCloseFlag() {
                    if (this.stateCloseFlag == false) {
                        this.ReviseStateCloseNum = 0;
                    }
                },
                reviseStateFrame(){
                    if(this.reviseStateFrame == false){
                        // this.reviseStateCurrNameArr = [];
                        // this.reviseStateCurrIDArr = [];
                        this.stateOpenHouse = '';
                        this.checkedCitiesState = [];
                        this.roomStateValue = [];
                    }
                },
                checkedStateHousenameList(){
                    // console.log(this.checkedStateHousenameList);
                    let tempArr = [];
                    for(let i = 0;i < this.checkedStateHousenameList.length; i++){
                        for(let j = 0; j < this.reviseStateCurrIDArr.length;j++){
                            if(this.reviseStateCurrIDArr[j] == this.checkedStateHousenameList[i]){
                                tempArr.push(j);
                            }
                        }
                    }
                    // console.log(tempArr);
                    this.currentCheckedNumHousenameInput = tempArr;
                },
                reviseNumFrame(){
                    if(this.reviseNumFrame == false){
                        this.checkedCitiesNum = [];
                        this.roomNumValue = [];
                        this.checkedStateHousenameList = [];
                    }
                }


            },
        })
    </script>
</body>

</html>